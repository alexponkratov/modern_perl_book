=encoding utf-8

=head1 CPAN

Z<cpan>

Perl 5 E<mdash> прагматичный язык сам по себе, но ещё более прагматичное
Perl-сообщество расширило этот язык и сделало свою работу доступной для всего
мира. Если у вас есть требующая решения задача, велики шансы, что кто-то уже
написал код на Perl для её решения E<mdash> и поделился им.

X<CPAN>

Программирование в Современном Perl подразумевает активное использование CPAN
(U<http://www.cpan.org/>). Comprehensive Perl Archive Network (Всеобъемлющая
архивная сеть Perl) E<mdash> система загрузки и зеркалирования свободно
распространяемого, повторно используемого кода на Perl. Это один из самых,
если не I<самый> большой архив программных библиотек в мире.
CPAN предлагает библиотеки для всего, от доступа к базам данных, инструментов
профилирования и реализации протоколов для практически всех когда-либо
созданных сетевых устройств до звуковых и графических библиотек и обёрток для
разделяемых библиотек в вашей системе.

Современный Perl без CPAN E<mdash> всего лишь очередной язык. Современный Perl
с CPAN E<mdash> изумителен.

X<distribution>
X<modules>

CPAN хранит I<дистрибутивы> E<mdash> коллекции повторно используемого Perl-кода.
Один дистрибутив может содержать один или несколько I<модулей>, самодостаточных
библиотек Perl-кода. Каждый дистрибутив занимает своё собственное пространство
имён в CPAN и предоставляет уникальные метаданные.

=begin tip CPAN E<mdash> Большой, Реально Большой

В CPAN I<добавляются> сотни зарегистрированных контрибуторов и тысячи
индексированных модулей в сотнях дистрибутивов каждый месяц. Эти цифры не
учитывают обновления. В конце ноября 2011 года search.cpan.org сообщал
о 9 359 аплоадерах, 101 656 модулях и 23 808 дистрибутивах (что означает
показатели роста в 11,5%, 19,4% и 14.3% со времени предыдущего издания этой
книги соответственно).

=end tip

X<search.cpan.org>

Сам по себе CPAN E<mdash> всего лишь зеркалирующий сервис. Авторы загружают свои
дистрибутивы, и CPAN отправляет их на сайты-зеркала, с которых пользователи и
CPAN-клиенты скачивают, конфигурируют, собирают, тестируют и устанавливают их.
Система успешна из-за своей простоты и вклада тысяч добровольцев, строящих свою
работу на этой системе распространения. В частности, развитие стандартов
сообщества определило атрибуты и характеристики правильно построенного
CPAN-дистрибутива. Они включают:

=over 4

=item * стандарты для автоматизированных установщиков из CPAN;

=item * cтандарты метаданных, описывающих, что предоставляет и чего ожидает
каждый дистрибутив;

=item * стандарты документирования и лицензирования.

=back

Дополнительные сервисы CPAN включают всестороннее автоматизированное
тестирование и оповещение для улучшения качества сборок и корректности работы
на разных платформах и версиях Perl. Каждый дистрибутив CPAN имеет свою
собственную очередь тикетов на U<http://rt.cpan.org/> для сообщения о багах и
работы с авторами. Кроме того, сайты CPAN ссылаются на предыдущие версии
дистрибутивов, рейтинги модулей, комментарии к документации и т. д. Всё это
доступно на U<http://search.cpan.org/>.

X<CPAN; C<CPAN.pm>>
X<CPAN; C<CPANPLUS>>

Установки Современного Perl включают два клиента для подключения, поиска,
скачивания, сборки, тестирования и установки CPAN-дистрибутивов, CPAN.pm и
CPANPLUS. По большей части, оба этих клиента равнозначны для базовой установки.
Эта книга рекомендует использовать только CPAN.pm ввиду его повсеместного
распространения. Со свежими версиями (последний стабильный релиз на момент
написания E<mdash> 1.9800) установка модулей достаточно проста. Запустите клиент
следующей командой:

=begin screen

    $ B<cpan>

=end screen

Так осуществляется установка дистрибутива из клиента:

=begin screen

    $ B<cpan>
    cpan[1]> B<install Modern::Perl>

=end screen

E<hellip>а так E<mdash> напрямую из командной строки:

=begin screen

    $ B<cpan Modern::Perl>

=end screen

X<CPAN; C<CPAN.pm>>

Руководство Эрика Вильгельма (Eric Wilhelm) по конфигурированию
CPAN.pmN<U<http://learnperl.scratchcomputing.com/tutorials/configuration/>>
включает отличную секцию по разрешению проблем.

=begin sidebar

Хотя CPAN-клиент E<mdash> базовый модуль дистрибутивов Perl 5, вам, вероятно,
нужно будет установить стандартные инструменты разработки, такие как утилита
C<make> и, возможно, компилятор C. Пользователи Windows могут использовать
Strawberry Perl (U<http://strawberryperl.com/>) и Strawberry Perl Professional.
Пользователи Max OS X должны установить XCode. Для пользователей Unix и
Unix-подобных систем эти инструменты зачастую уже доступны (хотя пользователям
Debian и Ubuntu придётся установить C<build-essential>).

=end sidebar

=head2 Инструменты управления CPAN

Если ваша операционная система предоставляет собственную инсталляцию Perl 5, эта
версия может быть устаревшей или может зависеть от определённых версий
CPAN-дистрибутивов. Серьёзные Perl-разработчики часто возводят виртуальные стены
между системным Perl и их собственными установками Perl, предназначенными для
разработки. Несколько проектов помогают сделать это возможным.

C<App::cpanminus> E<mdash> относительно новый CPAN-клиенты, нацеленный на
скорость, простоту и отсутствие необходимой настройки. Установите его командой
C<cpan App::cpanminus> или следующим образом:

=begin screen

    $ B<curl -LO http://xrl.us/cpanm>
    $ B<chmod +x cpanm>

=end screen

C<App::perlbrew> E<mdash> система управления и переключения между вашими
собственными инсталляциями нескольких версий и конфигураций Perl. Установить её
очень просто:

=begin screen

    $ B<curl -LO http://xrl.us/perlbrew>
    $ B<chmod +x perlbrew>
    $ B<./perlbrew install>
    $ B<perldoc App::perlbrew>

=end screen

X<CPAN; local::lib>
X<CPAN; App::local::lib::helper>

CPAN-дистрибутив C<local::lib> позволит вам устанавливать и управлять
дистрибутивами в вашей пользовательской директории, а не в системе в целом. Это
эффективный способ поддерживать CPAN-дистрибутивы, не затрагивая других
пользователей. Установка несколько более сложна, чем для предыдущих двух
дистрибутивов, хотя C<App::local::lib::helper> может упростить процесс. Смотрите
U<http://search.cpan.org/perldoc?local::lib> и
U<http://search.cpan.org/perldoc?App::local::lib::helper> для дальнейших
подробностей.

Все три проекта имеют тенденцию подразумевать Unix-подобное окружение (такое как
GNU/Linux дистрибутив или даже Mac OS X). Пользователи Windows могут
воспользоваться загрузкой E<laquo>всё в одномE<raquo> Padre
(U<http://padre.perlide.org/download.html>).
